@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 222.2 84% 4.9%;

    --card: 0 0% 100%;
    --card-foreground: 222.2 84% 4.9%;

    --popover: 0 0% 100%;
    --popover-foreground: 222.2 84% 4.9%;

    --primary: 221.2 83.2% 53.3%;
    --primary-foreground: 210 40% 98%;

    --secondary: 210 40% 96.1%;
    --secondary-foreground: 222.2 47.4% 11.2%;

    --muted: 210 40% 96.1%;
    --muted-foreground: 215.4 16.3% 46.9%;

    --accent: 210 40% 96.1%;
    --accent-foreground: 222.2 47.4% 11.2%;

    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;

    --border: 214.3 31.8% 91.4%;
    --input: 214.3 31.8% 91.4%;
    --ring: 221.2 83.2% 53.3%;

    --radius: 0.5rem;

    --sidebar-background: 0 0% 98%;
    --sidebar-foreground: 240 5.3% 26.1%;
    --sidebar-primary: 240 5.9% 10%;
    --sidebar-primary-foreground: 0 0% 98%;
    --sidebar-accent: 240 4.8% 95.9%;
    --sidebar-accent-foreground: 240 5.9% 10%;
    --sidebar-border: 220 13% 91%;
    --sidebar-ring: 217.2 91.2% 59.8%;
  }

  .dark {
    /* Cores baseadas nas especificações */
    --background: 0 0% 7%;             /* #121212 - Fundo escuro */
    --foreground: 0 0% 100%;           /* #FFFFFF - Texto branco puro */

    --card: 0 0% 14%;                  /* #242424 - Cards escuros */
    --card-foreground: 0 0% 100%;      /* #FFFFFF - Texto branco puro */

    --popover: 0 0% 14%;               /* #242424 - Popovers escuros */
    --popover-foreground: 0 0% 100%;   /* #FFFFFF - Texto branco puro */

    --primary: 221.2 83.2% 53.3%;      /* #2563eb - Azul Sonda */
    --primary-foreground: 0 0% 100%;   /* #FFFFFF - Texto branco puro */

    --secondary: 0 0% 20%;             /* #333333 - Secundário escuro */
    --secondary-foreground: 0 0% 100%; /* #FFFFFF - Texto branco puro */

    --muted: 0 0% 25%;                 /* #404040 - Muted escuro */
    --muted-foreground: 0 0% 69%;      /* #B0B0B0 - Texto cinza claro */

    --accent: 0 0% 18%;                /* #2E2E2E - Destaque escuro */
    --accent-foreground: 0 0% 100%;    /* #FFFFFF - Texto branco puro */

    --destructive: 0 84.2% 60.2%;      /* #EF4444 - Vermelho vibrante */
    --destructive-foreground: 0 0% 100%;/* #FFFFFF - Texto branco puro */

    --border: 0 0% 25%;                /* #404040 - Bordas escuras */
    --input: 0 0% 20%;                 /* #333333 - Inputs escuros */
    --ring: 221.2 83.2% 53.3%;         /* #2563eb - Azul Sonda para focus */
    
    /* Cores específicas para a sidebar */
    --sidebar-background: 0 0% 10%;     /* #1A1A1A - Fundo da sidebar */
    --sidebar-foreground: 0 0% 100%;    /* #FFFFFF - Texto branco puro */
    --sidebar-primary: 221.2 83.2% 53.3%; /* #2563eb - Azul Sonda */
    --sidebar-primary-foreground: 0 0% 100%; /* #FFFFFF - Texto branco puro */
    --sidebar-accent: 0 0% 20%;         /* #333333 - Hover escuro */
    --sidebar-accent-foreground: 0 0% 100%; /* #FFFFFF - Texto branco puro */
    --sidebar-border: 0 0% 25%;         /* #404040 - Bordas da sidebar */
    --sidebar-ring: 221.2 83.2% 53.3%;  /* #2563eb - Azul Sonda */
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground font-sans;
  }
}

@layer components {
  .form-step {
    @apply animate-fade-in;
  }
  
  .step-indicator {
    @apply flex items-center justify-center w-8 h-8 rounded-full border-2 font-medium text-sm transition-all duration-300;
  }
  
  .step-indicator.active {
    @apply bg-primary border-primary text-white;
  }
  
  .step-indicator.completed {
    @apply bg-success border-success text-white;
  }
  
  .step-indicator.inactive {
    @apply bg-gray-100 border-gray-300 text-gray-500;
  }

  /* Dark Mode Elegante - Classes Personalizadas */
  .dark-card-elegant {
    @apply bg-gradient-to-br from-slate-800/50 to-slate-900/50 backdrop-blur-sm border border-slate-700/50;
  }
  
  .dark-sidebar-elegant {
    @apply bg-gradient-to-b from-slate-900 via-slate-800 to-slate-900 border-r border-slate-700/50;
  }
  
  .dark-input-elegant {
    @apply bg-slate-800/60 border-slate-600/50 focus:border-blue-500/50 focus:ring-blue-500/20;
  }
  
  .dark-button-elegant {
    @apply bg-gradient-to-r from-slate-700 to-slate-600 hover:from-slate-600 hover:to-slate-500 border border-slate-500/50 shadow-lg;
  }
  
  .dark-table-elegant {
    @apply bg-slate-800/30 border border-slate-700/30;
  }
  
  .dark-table-row-elegant {
    @apply hover:bg-slate-700/20 border-b border-slate-700/20;
  }

  /* Títulos e headings com máximo contraste */
  .dark h1, .dark h2, .dark h3, .dark h4, .dark h5, .dark h6 {
    @apply text-white font-semibold;
  }
  
  .dark .card-title, .dark .dialog-title, .dark .alert-title {
    @apply text-white font-semibold;
  }
  
  .dark .breadcrumb-item {
    @apply text-gray-200;
  }
  
  .dark .nav-title {
    @apply text-white font-medium;
  }

  /* Estilos customizados para scrollbar da sidebar */
  .sidebar-scroll {
    scrollbar-width: thin;
    scrollbar-color: rgba(59, 130, 246, 0.5) rgba(30, 64, 175, 0.3);
    scroll-behavior: auto !important; /* Previne scroll automático */
  }

  /* Prevenir scroll automático em toda a sidebar */
  .sidebar-scroll * {
    scroll-behavior: auto !important;
  }

  .sidebar-scroll::-webkit-scrollbar {
    width: 6px;
  }

  .sidebar-scroll::-webkit-scrollbar-track {
    background: rgba(30, 64, 175, 0.2);
    border-radius: 3px;
  }

  .sidebar-scroll::-webkit-scrollbar-thumb {
    background: rgba(59, 130, 246, 0.6);
    border-radius: 3px;
    transition: background 0.2s ease;
  }

  .sidebar-scroll::-webkit-scrollbar-thumb:hover {
    background: rgba(59, 130, 246, 0.8);
  }

  /* Prevenir overflow horizontal */
  .sidebar-item {
    min-width: 0;
    max-width: 100%;
    word-wrap: break-word;
    overflow-wrap: break-word;
  }

  /* Garantir que o botão toggle sempre fique visível */
  .sidebar-toggle-btn {
    position: fixed !important;
    z-index: 9999 !important;
    pointer-events: auto !important;
    background: rgb(37, 99, 235) !important;
    border: 2px solid rgb(96, 165, 250) !important;
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05) !important;
  }

  .sidebar-toggle-btn:hover {
    background: rgb(29, 78, 216) !important;
    border-color: rgb(147, 197, 253) !important;
  }

  /* Melhorar clicabilidade dos botões recuados */
  .sidebar-child-item {
    position: relative;
    z-index: 1;
  }

  .sidebar-child-item button {
    position: relative;
    z-index: 2;
    pointer-events: auto;
  }
}

.table-responsive {
  overflow-x: auto;
  width: 100%;
  padding-bottom: 5px;
}

.table-responsive table {
  min-width: 1300px;
  width: auto;
}


/* ========================================
   ESTILOS DE IMPRESSÃO
   ======================================== */
@media print {
  /* Ocultar elementos desnecessários */
  .print\\:hidden,
  nav,
  aside,
  header,
  footer,
  button:not(.print\\:block),
  .no-print {
    display: none !important;
  }

  /* Configurações gerais de página */
  @page {
    size: A4 landscape;
    margin: 1cm;
  }

  body {
    background: white !important;
    color: black !important;
    font-size: 10pt;
  }

  /* Remover sombras e bordas desnecessárias */
  * {
    box-shadow: none !important;
    text-shadow: none !important;
  }

  /* Otimizar tabelas para impressão */
  table {
    width: 100% !important;
    border-collapse: collapse !important;
    page-break-inside: avoid;
    font-size: 9pt !important;
  }

  thead {
    display: table-header-group;
  }

  tr {
    page-break-inside: avoid;
  }

  th, td {
    padding: 6px 8px !important;
    border: 1px solid #ddd !important;
  }

  /* Cabeçalhos da tabela */
  th {
    background-color: #2563eb !important;
    color: white !important;
    font-weight: bold !important;
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;
  }

  /* Linhas alternadas */
  tbody tr:nth-child(even) {
    background-color: #f9fafb !important;
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;
  }

  /* Linhas com fundo escuro */
  tbody tr.bg-gray-700,
  tbody tr.bg-gray-200 {
    background-color: #e5e7eb !important;
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;
  }

  /* Preservar cores importantes */
  .text-green-600,
  .text-green-700 {
    color: #16a34a !important;
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;
  }

  .text-red-600,
  .text-red-700 {
    color: #dc2626 !important;
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;
  }

  .text-blue-600,
  .text-sonda-blue {
    color: #2563eb !important;
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;
  }

  .text-orange-600 {
    color: #ea580c !important;
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;
  }

  /* Cards e containers */
  .card,
  [class*="Card"] {
    border: 1px solid #ddd !important;
    box-shadow: none !important;
    page-break-inside: avoid;
  }

  /* Títulos */
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
    color: black !important;
  }

  /* Adicionar cabeçalho de impressão */
  .print-header {
    display: block !important;
    text-align: center;
    margin-bottom: 20px;
    padding-bottom: 10px;
    border-bottom: 2px solid #2563eb;
  }

  .print-header h1 {
    font-size: 18pt;
    margin: 0;
    color: #2563eb !important;
  }

  .print-header p {
    font-size: 10pt;
    margin: 5px 0 0 0;
    color: #666 !important;
  }

  /* Remover scroll e overflow */
  * {
    overflow: visible !important;
  }

  /* Ajustar largura da tabela */
  .overflow-x-auto {
    overflow: visible !important;
  }

  /* Inputs (para o campo de reajuste) */
  input {
    border: 1px solid #ddd !important;
    background: white !important;
  }

  /* Garantir que cores de fundo sejam impressas */
  .bg-sonda-blue,
  .bg-blue-600 {
    background-color: #2563eb !important;
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;
  }

  .bg-gray-700 {
    background-color: #374151 !important;
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;
  }

  .bg-gray-200 {
    background-color: #e5e7eb !important;
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;
  }

  .bg-gray-50 {
    background-color: #f9fafb !important;
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;
  }

  /* Texto branco em fundos escuros */
  .text-white {
    color: white !important;
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;
  }

  /* Rodapé de impressão */
  .print-footer {
    display: block !important;
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    text-align: center;
    font-size: 8pt;
    color: #666;
    padding: 10px;
    border-top: 1px solid #ddd;
  }
}
